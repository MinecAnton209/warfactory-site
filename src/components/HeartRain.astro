---
import { Icon } from 'astro-icon/components';
---

<div class="heart-trigger cursor-default select-none flex items-center gap-1.5 text-[9px] uppercase tracking-widest text-gray-500 transition-colors hover:text-gray-400">
    Made with <Icon name="lucide:heart" class="w-3 h-3 text-red-600 fill-red-600/20 active:scale-125 transition-transform" />
</div>

<script>
    const trigger = document.querySelector('.heart-trigger');

    trigger?.addEventListener('click', () => {
        for (let i = 0; i < 15; i++) {
            createHeart();
        }
    });

    function createHeart() {
        const heart = document.createElement('div');
        heart.innerHTML = '❤️';
        heart.className = 'fixed text-xs z-[100] pointer-events-none transition-opacity duration-1000';

        const startX = Math.random() * window.innerWidth;
        heart.style.left = startX + 'px';
        heart.style.top = '-20px';

        heart.style.fontSize = (Math.random() * 10 + 10) + 'px';

        document.body.appendChild(heart);

        const animation = heart.animate([
            { transform: `translateY(0) rotate(0deg)`, opacity: 1 },
            { transform: `translateY(${window.innerHeight + 20}px) rotate(${Math.random() * 360}deg)`, opacity: 0.2 }
        ], {
            duration: Math.random() * 2000 + 2000,
            easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
        });

        animation.onfinish = () => heart.remove();
    }
</script>

<style>
    .heart-trigger {
        -webkit-tap-highlight-color: transparent;
    }
</style>